<div style="display: flex; justify-content: space-between; align-items: center;">
  <h1 class="header-text">DataFormats</h1>
    <button mat-raised-button color="primary" class="top-right-corner" (click)="createDataFormat()">
     <mat-icon>table_chart</mat-icon> Add a Dataformat
    </button>
  </div>
  
  <div *ngIf="loading" class="loading-overlay">
    <div class="loading-content">
      <mat-progress-spinner
        mode="indeterminate"
        diameter="60"
        color="primary"
      ></mat-progress-spinner>
      <p>Loading data formats, please wait...</p>
    </div>
  </div>
  
  <div *ngIf="!loading" style="margin-top: 30px;">
    <mat-card class="card">
      <div class="table-container">
        <table mat-table [dataSource]="dataSource">
          
          <ng-container *ngFor="let column of displayedColumns">
            <ng-container *ngIf="column !== 'Actions'">
              <ng-container [matColumnDef]="column">
                <th mat-header-cell *matHeaderCellDef style="font-weight: bold">
                  {{ column }}
                </th>
                <td mat-cell *matCellDef="let emp"
                    [ngStyle]="column === 'LimitReached' ? { 'color': emp[column] ? 'red' : 'black'} : {}">
                    {{emp[column]}}
                </td>
              </ng-container>
            </ng-container>
          </ng-container>
  
          <!-- Actions Column -->
          <ng-container matColumnDef="Actions">
            <th mat-header-cell *matHeaderCellDef style="font-weight: bold">
              Actions
            </th>
            <td mat-cell *matCellDef="let emp">
              <button mat-icon-button [matMenuTriggerFor]="menu">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="openCompanyForm(emp, 'view')">View</button>
                <button mat-menu-item (click)="openCompanyForm(emp, 'edit')">Edit</button>
                <button mat-menu-item>Delete</button>
              </mat-menu>
            </td>
          </ng-container>
  
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
    </mat-card>
  
    <!-- Paginator -->
    <mat-paginator
      [pageSize]="pageSize"
      [pageSizeOptions]="[1, 2, 5, 10, 20]"
      showFirstLastButtons
    ></mat-paginator>
  </div>
  